"use strict";jQuery(document).ready(function(f){var o=f(".dfn-post-count").val();var s=-20;var q=0;var k=0;var g=0;var b=1;var d=f(".dfn-existing-definitions").val().split(",");f(document).on("keyup",'input[name="newtag[definitions_title]"]',j);function j(){var B=f('input[name="newtag[definitions_title]"]').val();if(B.length==0){var w='<div class="dfn-icon-bullet-invisible"></div><span class="dfn-comment">Add a term to see results</span>';f(".dfn-definition-add-notice").html(w);return}if(B.indexOf(",")>=0){var A=B.split(",")}else{var A=[B]}var z=[];for(let i=0;i<A.length;i++){var x=f.trim(A[i]);if(f.inArray(x,d)!==-1){z.push(x)}}if(z.length>0){z=z.join(", ");f('input[name="dfn-definition-add"]').prop("disabled",true);if(z.indexOf(",")>=0){var y=" are already in use. Choose another"}else{var y=" is already in use. Choose another"}var w='<div class="dfn-icon-bullet-red"></div><span class="dfn-comment">'+z+y+"</span>";f(".dfn-definition-add-notice").html(w)}else{f('input[name="dfn-definition-add"]').prop("disabled",false);if(B.indexOf(",")>=0){var y=" are not used before!"}else{var y=" has not been used before!"}var w='<div class="dfn-icon-bullet-green"></div><span class="dfn-comment">'+B+y+"</span>";f(".dfn-definition-add-notice").html(w)}}e();u();f(document).on("click",'input[name="dfn-definition-add"]',u);f(document).on("click",'span[class="remove-tag-icon"]',u);f(document).on("click",'input[name="dfn-definition-add"]',h);f(document).on("click",'span[class="remove-tag-icon"]',v);f(document).on("click",'input[name="dfn-definition-add"]',j);f(document).on("click",'span[class="remove-tag-icon"]',j);l();function l(){if(t().length==0){f('input[class="dfn-enable"]').prop("disabled",true)}else{f('input[class="dfn-enable"]').prop("disabled",false)}}function h(){var w=t().pop();d.push(w);l()}function v(){var w=f(this).next().html().split(" ").pop();d=d.filter(function(x){return x!=w});l()}function u(){var w=t();f.ajax({type:"GET",url:wpdef.url,dataType:"json",data:({action:"wpdef_scan_definition_count",definitions:w}),success:function(x){if(x.success){k=x.count;a()}}})}function a(){if(q==k){return}s=-40;g=(k-q)/80;r()}function n(w){return 0.1*w*w+w+1}function r(){if(s!=40){s++;q+=g;if(b!=m(Math.round(q),o)){e();setTimeout(r,n(s))}else{f(".dfn-definition-count").html(Math.round(q));setTimeout(r,n(s))}}else{if(b!=m(Math.round(q),o)){q=k;e()}else{f(".dfn-definition-count").val(k);q=k}}}function e(){var w=p(q);f(".dfn-performance-notice").html(w)}function p(w){w=Math.round(w);var x=m(w,o);var A="";var B="<span class='dfn-definition-count-notice'><span class='dfn-definition-count'>"+w+"</span> terms in "+o+" posts<span>";var z="";if(x==3){A="<div class='dfn-icon-bullet-red'></div>";z="<span class='dfn-comment'>There are too many terms per post. This might affect resources. Try to be more specific. <a>Read more</a><span>"}if(x==2){A="<div class='dfn-icon-bullet-orange'></div>";z="<span class='dfn-comment'>There might too many terms per post. This might affect resources. Try to be more specific. <a>Read more</a><span>"}if(x==1){A="<div class='dfn-icon-bullet-green'></div>";z="<span class='dfn-comment'></span>"}var y="";y+="<div class='dfn-field'>";y+=A;y+=B;y+="</div>";y+=z;y+="<input type='hidden' class='dfn-definition-ids' value='"+w+"'>";return y}function m(w,x){if(w/x>3){return 3}if(w/x>2){return 2}return 1}function t(){var w=[];f(".dfn-post-definition-list li").each(function(){w.push(f(this).html().split("&nbsp;").pop())});return w}function c(){f("")}});